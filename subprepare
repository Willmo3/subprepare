#!/usr/bin/env bash

name=$1 # name of assignment, first arg
usage="Usage: subprepare (assignment name)"

username=morri2wj
class=cs361
semester=f23
prof=kirkpams

rootdir=/cs/students/$class/$semester/$prof
if [[ ! -d $rootdir ]]; then
    echo "Content root directory not found: $rootdir"
    exit 1
fi

subroot=$rootdir/submit/$username
if [[ ! -d "$subroot" ]]; then
    echo "Submission parent directory $subroot not found."
    exit 1
fi

tarpath=$rootdir/src/$name.tar.gz
if [[ ! -f "$tarpath" ]]; then
    echo "File not found: $tarpath"
    echo $usage
    exit 1
fi

cd $ 

